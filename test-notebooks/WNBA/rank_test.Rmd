---
title: "WNBA Ranking"
output:
  html_notebook: 
    theme: readable
  html_document: default
editor_options: 
  chunk_output_type: inline
---

## Collect model input
```{r}
game_data <- collect_game_data(gamebox, 200, '2017-06-10')
```

## Build model
```{r}
season_model <- build_model(game_data)
```

## Back-predict for a test
```{r}
back_prediction <- game_predict(season_model, game_data)
backp_score_table <- rank_scores(back_prediction)
```

## get the new rows
```{r}
new_rows <- salaries$Game %>%
  unique() %>%
  stringr::str_split_fixed(pattern = "@", n = 2) %>%
  as_tibble() %>%
  left_join(decoder, by = c("V1" = "fanduel")) %>%
  left_join(decoder, by = c("V2" = "fanduel")) %>%
  select(away = bigdataball.x, home = bigdataball.y)
prediction <- game_predict(season_model, new_rows)
View(prediction)
score_table <- rank_scores(prediction)
View(score_table)
```
